@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');

$primary: #ff512f;
$secondary: #f09819;
$accent: #ffe259;
$danger: #ff7675;
$white: #fff;
$dark: #22223b;
$glass-bg: rgba(255,255,255,0.15);
$glass-border: rgba(255,255,255,0.25);
$shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
$radius: 18px;
$transition: all 0.3s cubic-bezier(.25,.8,.25,1);

@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

body, .payment-container {
  font-family: 'Montserrat', Arial, sans-serif;
  background: linear-gradient(135deg, $primary 0%, $secondary 50%, $accent 100%);
  min-height: 100vh;
  @include flex-center;
}

.payment-container {
  position: relative;
  overflow: hidden;
  min-height: 100vh;
  &:before {
    content: '';
    position: absolute;
    top: -30%;
    left: -30%;
    width: 160%;
    height: 160%;
    background: linear-gradient(120deg, $primary 0%, $secondary 50%, $accent 100%);
    background-size: 200% 200%;
    animation: gradientMove 8s ease-in-out infinite;
    z-index: 0;
    opacity: 0.7;
  }

 .success-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0,0,0,0.7); /* او خلفية فاتحة حسب رغبتك */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999; /* عالي جداً عشان يتجاوز الفوتر */
}


  // Floating particles
  .particle {
    position: absolute;
    border-radius: 50%;
    opacity: 0.18;
    background: $accent;
    pointer-events: none;
    animation: float 12s linear infinite;
  }
  .particle1 { width: 60px; height: 60px; top: 10%; left: 15%; animation-delay: 0s; }
  .particle2 { width: 40px; height: 40px; top: 60%; left: 80%; animation-delay: 2s; }
  .particle3 { width: 30px; height: 30px; top: 80%; left: 30%; animation-delay: 4s; }
  .particle4 { width: 50px; height: 50px; top: 30%; left: 70%; animation-delay: 6s; }
  .particle5 { width: 20px; height: 20px; top: 50%; left: 50%; animation-delay: 8s; }
}
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes float {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-40px) scale(1.1); }
  100% { transform: translateY(0) scale(1); }
}

.payment-card {
  background: $glass-bg;
  border-radius: $radius;
  box-shadow: $shadow;
  border: 1.5px solid $glass-border;
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  padding: 2.5rem 2rem;
  max-width: 420px;
  width: 100%;
  margin: 2rem auto;
  color: $dark;
  animation: slideUp 0.7s cubic-bezier(.25,.8,.25,1);
}

.payment-header {
  text-align: center;
  margin-bottom: 2.2rem;
  h2 {
    color: $dark;
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    letter-spacing: 1px;
  }
  .total-amount {
    background: linear-gradient(90deg, $primary, $secondary, $accent);
    color: $white;
    border-radius: $radius;
    padding: 0.7rem 0;
    margin-top: 0.5rem;
    font-size: 1.2rem;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(255,81,47,0.08);
  }
}

.payment-form {
  .form-group {
    margin-bottom: 1.3rem;
    label {
      color: $dark;
      font-weight: 500;
      margin-bottom: 0.4rem;
      display: block;
      letter-spacing: 0.5px;
    }
  }
  .input-group {
    position: relative;
    i {
      position: absolute;
      left: 18px;
      top: 50%;
      transform: translateY(-50%);
      color: $primary;
      font-size: 18px;
      z-index: 2;
      transition: color 0.3s, transform 0.3s;
    }
    input, select {
      width: 100%;
      padding: 12px 16px 12px 48px;
      border-radius: $radius;
      border: 1.5px solid #e0e0e0;
      background: rgba(255,255,255,0.7);
      color: $dark;
      font-size: 1rem;
      font-family: 'Montserrat', Arial, sans-serif;
      transition: $transition;
      box-shadow: none;
      outline: none;
      &:focus {
        border-color: $primary;
        background: $white;
      }
      &.is-invalid {
        border-color: $danger;
        background: rgba(255, 118, 117, 0.08);
      }
    }
    select {
      appearance: none;
      background: rgba(255,255,255,0.7) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ff512f' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E") no-repeat right 16px center/18px;
      color: $dark;
      option {
        color: $dark;
        background: $white;
      }
    }
    select:invalid {
      color: #aaa;
    }
  }
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.submit-button {
  width: 100%;
  padding: 1rem;
  border: none;
  border-radius: $radius;
  background: linear-gradient(90deg, $primary, $secondary, $accent);
  color: $white;
  font-size: 1.1rem;
  font-weight: 600;
  letter-spacing: 1px;
  cursor: pointer;
  transition: $transition;
  box-shadow: 0 2px 8px rgba(255,81,47,0.12);
  margin-top: 0.5rem;
  position: relative;
  overflow: hidden;
  &:hover:not(:disabled) {
    background: linear-gradient(90deg, $accent, $secondary, $primary);
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 6px 24px rgba(255,152,25,0.13);
  }
  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
  &.loading .spinner {
    display: inline-block;
    width: 24px;
    height: 24px;
    border: 3px solid rgba(255,255,255,0.3);
    border-radius: 50%;
    border-top-color: $white;
    animation: spin 1s linear infinite;
  }
  .ripple {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 0;
    height: 0;
    background: rgba(255,255,255,0.4);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    transition: width 0.5s, height 0.5s, opacity 0.5s;
    opacity: 0;
  }
  &:active .ripple, &.ripple-active .ripple, .ripple.show {
    width: 200%;
    height: 200%;
    opacity: 1;
    transition: width 0.5s, height 0.5s, opacity 0.5s;
  }
}

// Placeholder for select
select:invalid {
  color: #aaa !important;
}

// Animations
@keyframes slideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes spin {
  to { transform: rotate(360deg); }
}

// Responsive
@media (max-width: 600px) {
  .payment-card {
    padding: 1.2rem 0.5rem;
    max-width: 98vw;
  }
  .form-row {
    grid-template-columns: 1fr;
  }
}

.brand-logo {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 1.2rem;
  img {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    box-shadow: 0 4px 16px rgba(0,0,0,0.10);
    background: #fff;
    object-fit: contain;
    border: 2px solid #fff;
  }
}

// Animated icons
.animated-icon {
  transition: color 0.3s, transform 0.3s;
}
.input-group:focus-within .animated-icon,
.input-group:hover .animated-icon {
  color: $secondary;
  transform: scale(1.18) rotate(-8deg);
}

// Toast notifications
.toast-container {
  position: fixed;
  top: 2.5rem;
  right: 2.5rem;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}
.toast {
  min-width: 220px;
  background: linear-gradient(90deg, $primary, $secondary, $accent);
  color: #fff;
  padding: 1rem 1.5rem;
  border-radius: 12px;
  margin-bottom: 1rem;
  font-size: 1rem;
  font-weight: 500;
  box-shadow: 0 4px 16px rgba(0,0,0,0.18);
  opacity: 0.98;
  animation: toastIn 0.5s cubic-bezier(.25,.8,.25,1);
}
.toast.success { background: linear-gradient(90deg, $accent, $secondary); color: $dark; }
.toast.error { background: linear-gradient(90deg, $primary, $secondary); color: #fff; }
@keyframes toastIn {
  from { opacity: 0; transform: translateY(-30px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

.success-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.95);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease-in-out;
}

.success-content {
  text-align: center;
  padding: 2rem;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  animation: slideUp 0.5s ease-out;
}

.success-icon {
  width: 80px;
  height: 80px;
  background: #4CAF50;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 1.5rem;
  color: white;
  font-size: 2.5rem;
  animation: scaleIn 0.5s ease-out;
}

.success-content h2 {
  color: #2c3e50;
  margin-bottom: 1rem;
  font-size: 1.8rem;
}

.success-content p {
  color: #666;
  margin: 0.5rem 0;
  font-size: 1.1rem;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
}
